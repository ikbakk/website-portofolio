---
import { mainInfoQuery } from "@/lib/sanityQueries";
import { useSanityClient } from "@sanity/astro";
import type { MainInfo } from "types";

import Overview from "./Overview.astro";
import Featured from "./Featured.astro";

const { firstName, lastName, description, projects }: MainInfo =
  await useSanityClient().fetch(mainInfoQuery);
const featureds = projects.slice(0, 4);
---

<section
  class="flex flex-col items-center justify-center gap-8 lg:flex-row lg:justify-between"
>
  <Overview
    firstName={firstName}
    lastName={lastName}
    description={description}
  />
  <Featured featureds={featureds} />
</section>
